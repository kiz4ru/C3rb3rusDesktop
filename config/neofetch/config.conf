#!/bin/bash

##############################################################
# C3rb3rusDesktop - Neofetch Custom Config
# ConfiguraciÃ³n personalizada para pentesting
##############################################################

# See this wiki page for more info:
# https://github.com/dylanaraps/neofetch/wiki/Customizing-Info

print_info() {
    info title
    info underline

    info "OS" distro
    info "Host" model
    info "Kernel" kernel
    info "Uptime" uptime
    info "Packages" packages
    info "Shell" shell
    info "Resolution" resolution
    info "DE" de
    info "WM" wm
    info "WM Theme" wm_theme
    info "Theme" theme
    info "Icons" icons
    info "Terminal" term
    info "Terminal Font" term_font
    info "CPU" cpu
    info "GPU" gpu
    info "Memory" memory

    # Custom pentesting info
    prin "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    
    # VPN Status
    if ip addr show tun0 &>/dev/null; then
        VPN_IP=$(ip -4 addr show tun0 | grep inet | awk '{print $2}' | cut -d/ -f1)
        prin "ğŸ” VPN (HTB)" "$VPN_IP"
    elif ip addr show tun1 &>/dev/null; then
        VPN_IP=$(ip -4 addr show tun1 | grep inet | awk '{print $2}' | cut -d/ -f1)
        prin "ğŸ” VPN (THM)" "$VPN_IP"
    else
        prin "âš ï¸  VPN" "Disconnected"
    fi
    
    # Target IP
    if [[ -f ~/.config/bspwm/target_ip.txt ]]; then
        TARGET=$(cat ~/.config/bspwm/target_ip.txt 2>/dev/null)
        [[ -n "$TARGET" ]] && prin "ğŸ¯ Target" "$TARGET" || prin "ğŸ¯ Target" "Not set"
    fi
    
    # Network
    LOCAL_IP=$(ip -4 addr show eth0 2>/dev/null | grep inet | awk '{print $2}' | cut -d/ -f1)
    [[ -n "$LOCAL_IP" ]] && prin "ğŸŒ Local IP" "$LOCAL_IP"
    
    info "Public IP" public_ip
    
    prin "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    
    info cols
}

# Title
title_fqdn="off"

# Kernel
kernel_shorthand="on"

# Distro
distro_shorthand="off"
os_arch="on"

# Uptime
uptime_shorthand="on"

# Memory
memory_percent="on"
memory_unit="gib"

# Packages
package_managers="on"

# Shell
shell_path="off"
shell_version="on"

# CPU
speed_type="bios_limit"
speed_shorthand="on"
cpu_brand="on"
cpu_speed="on"
cpu_cores="logical"
cpu_temp="off"

# GPU
gpu_brand="on"
gpu_type="all"

# Resolution
refresh_rate="on"

# Gtk Theme / Icons / Font
gtk_shorthand="on"
gtk2="on"
gtk3="on"

# IP Address
public_ip_host="http://ident.me"
public_ip_timeout=2

# Desktop Environment
de_version="on"

# Disk
disk_show=('/')
disk_subtitle="mount"
disk_percent="on"

# Song
music_player="auto"
song_format="%artist% - %album% - %title%"
song_shorthand="off"
mpc_args=()

# Text Colors
colors=(distro)

# Text Options
bold="on"
underline_enabled="on"
underline_char="â”€"
separator=":"

# Color Blocks
block_range=(0 15)
color_blocks="on"
block_width=3
block_height=1
col_offset="auto"

# Progress Bars
bar_char_elapsed="â”"
bar_char_total="â”€"
bar_border="on"
bar_length=15
bar_color_elapsed="distro"
bar_color_total="distro"

# Info display
cpu_display="off"
memory_display="off"
battery_display="off"
disk_display="off"

# Backend Settings
image_backend="ascii"
image_source="auto"

# Ascii Options
ascii_distro="auto"
ascii_colors=(distro)
ascii_bold="on"

# Image Options
image_loop="off"
thumbnail_dir="${XDG_CACHE_HOME:-${HOME}/.cache}/thumbnails/neofetch"
crop_mode="normal"
crop_offset="center"
image_size="auto"
gap=3
yoffset=0
xoffset=0
background_color=

# Misc Options
stdout="off"
